generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model cases {
  caseId             Int       @id @default(autoincrement()) @map("case_id")
  fhirResourceId     String?   @unique @map("fhir_resource_id")
  patientId          Int?      @map("patient_id")
  procedureDate      DateTime  @map("procedure_date") @db.Timestamp(6)
  providerName       String?   @map("provider_name")
  locationName       String?   @map("location_name")
  createTime         DateTime? @map("create_time") @db.Timestamp(6)
  updateTime         DateTime? @map("update_time") @db.Timestamp(6)
  priorAuthorization String    @map("prior_authorization") @default("Incomplete")
  vendorConfirmation String    @map("vendor_confirmation") @default("Incomplete")
  patients           patients? @relation(fields: [patientId], references: [patientId], onDelete: NoAction, onUpdate: NoAction)
}

model patients {
  patientId      Int       @id @default(autoincrement()) @map("patient_id")
  fhirResourceId String?   @unique @map("fhir_resource_id")
  firstName      String?   @map("first_name")
  lastName       String?   @map("last_name")
  mrn            String?
  address        String?
  mobilePhone    String?   @map("mobile_phone")
  homePhone      String?   @map("home_phone")
  dateOfBirth    DateTime? @map("date_of_birth") @db.Date
  createTime     DateTime? @map("create_time") @db.Timestamp(6)
  updateTime     DateTime? @map("update_time") @db.Timestamp(6)
  cases          cases[]
}

model locations {
  locationId     Int       @id @default(autoincrement()) @map("location_id")
  fhirResourceId String?   @unique @map("fhir_resource_id")
  locationName   String?   @map("location_name")
  createTime     DateTime? @map("create_time") @db.Timestamp(6)
  updateTime     DateTime? @map("update_time") @db.Timestamp(6)
  procedureUnits procedureUnits[]
}

model procedureUnits {
  procedureUnitId     Int       @id @default(autoincrement()) @map("procedure_unit_id")
  fhirResourceId      String?   @unique @map("fhir_resource_id")
  procedureUnitName        String?   @map("procedure_unit_name")
  locationFk locations @relation(fields: [locationId], references: [locationId])
  locationId Int  
  serviceLines serviceLines[]
}

model serviceLines {
  serviceLineId     Int       @id @default(autoincrement()) @map("service_line_id")
  fhirResourceId      String?   @unique @map("fhir_resource_id")
  serviceLineName        String?   @map("service_line_name")
  procedureUnitFk procedureUnits @relation(fields: [procedureUnitId], references: [procedureUnitId])
  procedureUnitId Int
  providers providers[]
}

model providers {
  providerId     Int       @id @default(autoincrement()) @map("provider_id")
  fhirResourceId String?   @unique @map("fhir_resource_id")
  firstName      String?   @map("first_name")
  lastName       String?   @map("last_name")
  address        String?
  email          String?
  serviceLineFk  serviceLines @relation(fields: [serviceLineId], references: [serviceLineId])
  serviceLineId  Int  
  createTime     DateTime? @map("create_time") @db.Timestamp(6)
  updateTime     DateTime? @map("update_time") @db.Timestamp(6)
}